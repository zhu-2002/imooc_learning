# JDBC

> 行百里者半九十

[TOC]

## JDBC开发流程

- 加载并注册JDBC驱动
- 创建数据库连接
- 创建Statement对象
- 遍历查询结果
- 关闭资源，释放资源

## JDBC事物管理

- 事物是以一种可靠的，一致的方式，访问操作数据库的程序单元

- 说人话：要么不做事，要么把事情直接做完

- 事物依赖数据库实现，MYSQL通过**事务**区作为数据缓冲地带

  JDBC应用程序在写入数据时，并非直接把数据直接写入到表中，而是先放进事务区。数据很小的情况的下，事务区放在内存中，加快数据处理速度；数据很大的情况下，往往会写入到硬盘，用硬盘空间作为事务的缓冲。

  应用程序在执行完对应的所有操作后，会向事务区发起commit提交操作，事务区会将因公程序所有的操作一次性地写入到程序表中。之后事务区后将自己清空，等待下一次的任务。

  应用程序的操作出现异常，会向事务区发起rollback回滚操作，事务区会将之前事务区中的所有数据全部清空，不会再往数据表中再写入。

- 两种事务模式

  - 自动提交事务模式

    默认模式，每次执行一次SQL操作都会自动提交一次。无法保证多数据的一致性。

  - 手动提交事务模式

    显示调用commit()和rollback()方法管理事务，开启方法：connection.setAutoCommit(false)。

## 基于实体类实现分页数据封装

## Date日期对象的处理

## JDBC数据批处理

## 阿里巴巴Druid连接池

- 对数据库连接进行有效管理和重用，最大化程序执行效率
- 连接池负责管理连接，程序员只负责取用与归还

## Apache Commons DBUtils

- 是Apache开源的数据库管理工具库

- 是对JDBC的简单封装，学习成本极低
- 使用commons-dbutils可以极大简化JDBC的编码工作量

